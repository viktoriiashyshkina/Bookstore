<!--<!DOCTYPE html>-->
<!--<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--  <title>Order Confirmation</title>-->
<!--</head>-->
<!--<body>-->
<!--<header>-->
<!--  <h1>Confirm Your Order</h1>-->
<!--</header>-->
<!--<main>-->
<!--  <div>-->
<!--    <h2>Order Details</h2>-->
<!--    <p th:text="'Order Total: $' + ${order.totalAmount}"></p>-->
<!--    <h3>Items:</h3>-->
<!--    <ul>-->
<!--      <li th:each="item : ${order.orderDetails}">-->
<!--        <span th:text="'Book: ' + ${item.book.title}"></span> |-->
<!--        <span th:text="'Quantity: ' + ${item.quantity}"></span> |-->
<!--        <span th:text="'Price: $' + (${item.book.price} * ${item.quantity})"></span>-->
<!--      </li>-->
<!--    </ul>-->
<!--  </div>-->
<!--  <div>-->
<!--    <h3>Shipping Information</h3>-->
<!--    <p th:if="${not complete}">-->
<!--      <span style="color: red;">Your profile is incomplete. Please update your profile.</span>-->
<!--      <button th:onclick="window.location.href='/profile/updateProfile'" type="button">Update Profile</button>-->
<!--    </p>-->
<!--    <p th:if="${complete}">-->
<!--      <span th:text="'Name: ' + ${user.firstName} + ' ' + ${user.lastName}"></span><br />-->
<!--      <span th:text="'Address: ' + ${user.address}"></span><br />-->
<!--      <span th:text="'Phone: ' + ${user.phoneNumber}"></span><br />-->
<!--      <span th:text="'Email: ' + ${user.email}"></span>-->
<!--    </p>-->
<!--  </div>-->
<!--  <div th:if="${complete}">-->
<!--    <button th:onclick="window.location.href='/payment'" type="button">Continue to Payment</button>-->
<!--  </div>-->
<!--</main>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Order Confirmation</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }

    /* Header and Banner Styling */
    header {
      background-color: #444;
      color: white;
      text-align: center;
      padding: 10px;
    }

    header img {
      width: 100%;
      height: auto;
    }

    /* Navigation Bar Styling */
    nav {
      display: flex;
      justify-content: space-between;
      background-color: #333;
      padding: 10px;
    }

    nav .nav-left, nav .nav-center, nav .nav-right {
      display: flex;
      align-items: center;
    }

    nav a {
      color: white;
      text-decoration: none;
      padding: 10px;
      margin: 0 5px;
    }

    nav a:hover {
      background-color: #444;
    }

    .category-dropdown select {
      padding: 5px;
      margin-left: 10px;
      background-color: #444;
      color: white;
      border: none;
      border-radius: 5px;
    }

    .category-dropdown label {
      color: white;
      margin-right: 10px;
    }

    nav .nav-center form {
      display: flex;
      align-items: center;
    }

    nav .nav-center input {
      padding: 5px;
      margin-right: 5px;
      width: 200px;
    }

    nav .nav-center button {
      padding: 6px 12px;
      background-color: #444;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    /* Main Content Styling */
    main {
      max-width: 800px;
      margin: 30px auto;
      padding: 20px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    h2, h3 {
      color: #333;
    }

    p {
      font-size: 16px;
      line-height: 1.5;
    }

    ul {
      list-style-type: none;
      padding: 0;
    }

    li {
      background-color: #f9f9f9;
      padding: 10px;
      margin: 5px 0;
      border-radius: 5px;
    }

    li span {
      font-weight: bold;
    }

    .profile-incomplete {
      color: red;
      font-size: 14px;
    }

    button {
      background-color: #444;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }

    button:hover {
      background-color: #333;
    }

    .shipping-info {
      margin-top: 20px;
      padding: 15px;
      background-color: #f0f0f0;
      border-radius: 5px;
    }

    .shipping-info p {
      margin: 5px 0;
    }

    .continue-btn {
      text-align: center;
      margin-top: 20px;
    }

    /* Responsive Design */
    @media (max-width: 600px) {
      main {
        padding: 15px;
      }

      h1 {
        font-size: 24px;
      }

      nav {
        flex-direction: column;
        align-items: center;
      }

      nav .nav-left, nav .nav-center, nav .nav-right {
        flex-direction: column;
        align-items: center;
        margin-bottom: 10px;
      }
    }
  </style>
</head>
<body>
<!-- Header with Banner Image -->
<header>
  <img th:src="@{/images/banner.jpg}" alt="Welcome to the Bookstore" src="">
</header>


<!-- Navigation Bar -->
<nav>
  <div class="nav-left">
    <a th:href="@{/homeTest}">Home</a>
    <div class="category-dropdown">
      <label for="category-select">Filter by Category:</label>
      <select id="category-select" onchange="window.location.href='?category=' + this.value;">
        <option value="">Select Category</option>
        <option value="fiction" th:selected="${category == 'Fiction'}">Fiction</option>
        <option value="non-fiction" th:selected="${category == 'non-fiction'}">Non-fiction</option>
        <option value="mystery" th:selected="${category == 'mystery'}">Mystery</option>
        <option value="fantasy" th:selected="${category == 'fantasy'}">Fantasy</option>
      </select>
    </div>
  </div>

  <div class="nav-center">
    <form action="/searchResults" method="get">
      <input type="text" name="query" placeholder="Search books..." required>
      <button type="submit">Search</button>
    </form>
  </div>

  <div class="nav-right">
    <div th:if="${#authentication.principal != 'anonymousUser'}">
      <span>Welcome, <strong th:text="${#authentication.name}">User</strong>!</span>
      <a href="/logged-in">My Account</a>
      <a href="/logout">Logout</a>
    </div>
    <div th:if="${#authentication.principal == 'anonymousUser'}">
      <a href="/login#signup">Sign Up</a>
      <a href="/login#login">Login</a>
    </div>
    <a href="/basket">
      <img th:src="@{/images/purchase.png}" alt="Shopping Basket" style="width: 30px; height: 30px;">
    </a>
  </div>
</nav>

<!-- Main Content -->
<main>
  <div>
    <h2>Order Details</h2>
    <p th:if="${order != null}" th:text="'Order Total: $' + ${order.totalAmount}"></p>
    <p th:if="${order == null}">Order details not available.</p>

    <h3>Items:</h3>
    <ul>
      <li th:each="item : ${order.orderDetails}">
        <span th:text="'Book: ' + ${item.book.title}"></span> |
        <span th:text="'Quantity: ' + ${item.quantity}"></span> |
        <span th:text="'Price: $' + (${item.book.price} * ${item.quantity})"></span>
      </li>
    </ul>
  </div>

  <div>
    <h3>Shipping Information</h3>
    <div class="shipping-info">
      <!-- Profile Incomplete Logic -->
      <p th:if="${not complete}">
        <span class="profile-incomplete">Your profile is incomplete. Please update your profile.</span>
        <button th:onclick="window.location.href='/profile/updateProfile'" type="button">Update Profile</button>
      </p>

      <!-- Display User's Shipping Information -->
      <p th:if="${complete}">
        <span th:text="'Name: ' + ${account.firstName} + ' ' + ${account.lastName}"></span><br />
        <span th:text="'Address: ' + ${account.address}"></span><br />
        <span th:text="'Phone: ' + ${account.phoneNumber}"></span><br />
        <span th:text="'Email: ' + ${account.email}"></span>
      </p>
    </div>
  </div>

  <!-- Continue to Payment Button -->
<!--  <div class="continue-btn" th:if="${complete}">-->
<!--    <button th:onclick="window.location.href='/payment'" type="button">Continue to Payment</button>-->
<!--  </div>-->
</main>
</body>
</html>